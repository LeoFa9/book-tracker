# Трекер книг - Android приложение

Мобильное Android-приложение для отслеживания прочитанных книг с подключением к серверу базы данных.

## Функциональность

- Просмотр списка книг
- Добавление новой книги с метаданными (название, год издания, автор, статус, заметка)
- Редактирование книги
- Удаление книги
- Статусы: "Хочу прочитать", "Читаю", "Бросил", "Прочитал"
- Уведомления в строке состояния при успешных операциях
- Подключение к серверу БД для извлечения и записи данных

## Структура проекта

### Android приложение
- `Book.kt` - модель данных (Parcelable)
- `BookApi.kt` - Retrofit interface
- `ApiClient.kt` - singleton для Retrofit
- `BookAdapter.kt` - RecyclerView adapter
- `MainActivity.kt` - список книг
- `AddBookActivity.kt` - добавление книги
- `DetailActivity.kt` - просмотр/редактирование/удаление

### Python API
- `api/main.py` - FastAPI приложение
- `api/database.py` - SQLAlchemy модели и подключение к БД
- `api/Dockerfile` - Docker образ
- `api/docker-compose.yml` - Docker Compose конфигурация (API + PostgreSQL)

## Запуск API сервера и базы данных

1. Перейдите в директорию `api`:
```bash
cd api
```

2. Запустите Docker Compose (запустит API и PostgreSQL):
```bash
docker compose up --build
```

При первом запуске:
- Соберется образ API
- Загрузится образ PostgreSQL
- Создастся база данных и таблицы автоматически

API будет доступен на `http://localhost:5001`  
PostgreSQL будет доступен на `localhost:5432`

Для эмулятора Android используйте адрес `http://10.0.2.2:5001`

**Важно**: Оставьте терминал с Docker Compose открытым, пока работаете с приложением!

## Запуск Android приложения

1. Откройте проект в Android Studio
2. Дождитесь синхронизации Gradle
3. Запустите API сервер (см. выше)
4. Запустите приложение на эмуляторе или устройстве

## Технические детали

- **Минимальная версия Android**: API 24 (Android 7.0)
- **Целевая версия Android**: API 36
- **Язык**: Kotlin
- **Архитектура**: Retrofit для сетевых запросов, RecyclerView для списков
- **Уведомления**: NotificationManager для уведомлений в строке состояния
- **База данных**: PostgreSQL (в Docker контейнере)
- **ORM**: SQLAlchemy для работы с БД


